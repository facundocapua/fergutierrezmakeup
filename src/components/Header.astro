---
import MainLogo from "./MainLogo.astro";
import MenuLink from "./MenuLink.astro";

---
<div id="fake-header" class="bg-gray-700 sticky top-0 h-32 transform transition duration-500 origin-top"></div>

<header id="header" class="bg-gray-700 sticky top-4 -mt-32 z-10 backdrop-blur-sm opacity-90 transition-all duration-500">
  <nav class="flex justify-center items-center gap-12">
    <MenuLink href="/">Home</MenuLink>
    <MenuLink href="/servicios">Servicios</MenuLink>
    <a href="/" class="contents">
      <MainLogo id="logo" class="max-w-[300px] transition-all duration-500" />
    </a>
    <MenuLink href="/cursos">Cursos</MenuLink>
    <MenuLink href="/portfolio">Portfolio</MenuLink>
  </nav>  
</header>

<script>
  const $header = document.querySelector('#header')
  const $fakeHeader = document.querySelector('#fake-header')
  const $logo = document.querySelector('#logo')
  

  window.addEventListener('scroll', () => {
    if(!$header || !$fakeHeader || !$logo) return

    if (window.scrollY > 64) {
      $header.classList.add('-translate-y-4')
      $logo.classList.add('scale-75')
      
      $fakeHeader.classList.add('scale-y-75')
      $fakeHeader.classList.add('shadow-xl')
      return
    }
    
    $header.classList.remove('-translate-y-4')
    $logo.classList.remove('scale-75')
    
    $fakeHeader.classList.remove('scale-y-75')
    $fakeHeader.classList.remove('shadow-xl')
  })
</script>